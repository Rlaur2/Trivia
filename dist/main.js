(()=>{"use strict";var t={d:(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{J:()=>a});const e=(t,s,o)=>{s++,document.querySelector(".progress").textContent=`Question ${s}/${t.length}`,document.querySelector(".question").innerHTML=t[s-1].question;const c=document.querySelector(".result");c.classList.remove("right"),c.classList.remove("wrong"),c.textContent="";const a=document.querySelector(".top");a.replaceChildren();const i=document.querySelector(".bottom");if(i.replaceChildren(),"multiple"===t[s-1].type){const e=t[s-1].incorrect_answers;e.push(t[s-1].correct_answer),n(e),e.forEach(((t,e)=>{if(e<2){const e=document.createElement("div");e.classList.toggle("col"),e.innerHTML=t,a.appendChild(e)}else{const e=document.createElement("div");e.classList.toggle("col"),e.innerHTML=t,i.appendChild(e)}}))}else{const t=document.createElement("div");t.classList.toggle("col"),t.textContent="True";const e=document.createElement("div");e.classList.toggle("col"),e.textContent="False",a.appendChild(t),i.appendChild(e)}const l=document.querySelectorAll(".answers>.col");let d="";const r=t=>{for(let e of l)e.classList.remove("selected"),t.target.classList.add("selected"),d=t.target};a.addEventListener("mousedown",r),i.addEventListener("mousedown",r);const u=document.querySelector(".buttons"),v=document.querySelector(".next");u.removeChild(v);const m=document.querySelector(".submit"),g=()=>{if(d){if(d.innerHTML===t[s-1].correct_answer)c.classList.add("right"),c.textContent="Correct!",o++;else{c.classList.add("wrong"),c.textContent="Incorrect!",d.classList.remove("selected"),d.classList.add("incorrect");for(let e of l)e.innerHTML===t[s-1].correct_answer&&e.classList.add("selected")}if(m.removeEventListener("mousedown",g),a.removeEventListener("mousedown",r),i.removeEventListener("mousedown",r),s===t.length){const e=document.createElement("button");e.classList.toggle("btn"),e.classList.toggle("col"),e.classList.toggle("col-sm-1"),e.classList.toggle("btn-primary"),e.classList.toggle("next"),e.classList.toggle("m-4"),e.textContent="Finish!",u.appendChild(e),e.addEventListener("mousedown",(()=>{((t,e)=>{const s=document.querySelector(".container");s.replaceChildren(),s.innerHTML='<div class="row justify-content-end">\n    <div class="col-2 progress">\n        End of quiz\n    </div>\n</div>\n<div class="row">\n    <div class="col opening my-5">\n        <div class="row justify-content-center">\n            <div class="col-6 adulation">\n                \n            </div>\n        </div>\n        <div class="row">\n            <div class="col evaluation">\n            \n            </div>\n        </div>\n        <div class="row">\n            <div class="col giphy">\n                <img src="" alt="">\n            </div>\n        </div>\n        <div class="row buttons">\n            <button class="btn col col-sm-1 btn-primary back m-4">Review!</button>\n            <button class="btn col col-sm-1 btn-primary next m-4">New Quiz!</button>\n        </div>\n        <div class="row">\n            <div class="col attribution">\n                <a href="https://opentdb.com">Powered by the Open Trivia Database</a>\n            </div>\n        </div>\n    </div>\n</div>';let n=(e/t.length).toFixed(2),o="";"1.00"===n?o="100":"0.00"===n?o="0":(n=n.slice(2,4),"0"===n[0]&&(n=n.slice(1)),o=n);const c=document.querySelector(".adulation");let a=0;"100"===o?(c.classList.add("excellent"),c.textContent="Perfect!"):o<100&&o>79?(c.classList.add("excellent"),a=Math.floor(3*Math.random()),c.textContent=0===a?"Congratulations!":1===a?"Amazing!":"Great!"):o<=79&&o>59?(c.classList.add("good"),a=Math.floor(3*Math.random()),c.textContent=0===a?"Good job!":1===a?"Good!":"Alright!"):o<=59&&o>44?(c.classList.add("mediocre"),a=Math.floor(3*Math.random()),c.textContent=0===a?"Nice try!":1===a?"Better luck next time!":"Good effort!"):(c.classList.add("awful"),a=Math.floor(4*Math.random()),c.textContent=0===a?"Failure":1===a?"Awful":2===a?"Disgraceful":"Dumbass"),document.querySelector(".evaluation").textContent=`You scored: ${e} out of ${t.length} - ${o}% correct`;const i=document.querySelector("img");(async()=>{try{const t=await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=h2c3vzphvIByUtBEb1rnOHMANHfHBmnj&s=${c.textContent}`,{mode:"cors"}),e=await t.json();i.src=e.data.images.fixed_height.url}catch(t){alert(t)}})()})(t,o)})),console.log("end of quiz!",o)}else{const n=document.createElement("button");n.classList.toggle("btn"),n.classList.toggle("col"),n.classList.toggle("col-sm-1"),n.classList.toggle("btn-primary"),n.classList.toggle("next"),n.classList.toggle("m-4"),n.textContent="Next!",u.appendChild(n),n.addEventListener("mousedown",(()=>{e(t,s,o)}))}}else alert("Please choose an answer.")};m.addEventListener("mousedown",g)},s=t=>{let s=!1;if(t.length<1)return;let o=[];Array.isArray(t)?t.forEach((t=>{t.results.forEach((t=>{o.push(t)}))})):(t.results.forEach((t=>{o.push(t)})),s=!0),s||n(o),(t=>{const s=document.querySelector(".container");s.replaceChildren(),s.innerHTML='<div class="row justify-content-end">\n<div class="col-2 progress">\n     \n</div>\n</div>\n<div class="row">\n<div class="col opening my-5">\n    <div class="row">\n        <div class="col result">\n            \n        </div>\n    </div>\n    <div class="question">\n        \n    </div>\n    <div class="row top answers">\n\n    </div>\n    <div class="row bottom answers">\n    \n    </div>\n    <div class="row submit-row">\n        <button class="btn col col-sm-1 btn-primary m-4 submit">Submit!</button>\n    </div>\n    <div class="row buttons">\n        <button class="btn col col-sm-1 btn-primary start-over m-4">Start Over!</button>\n    </div>\n</div>\n</div>',document.querySelector(".progress").textContent=`Question 1/${t.length}`,document.querySelector(".question").innerHTML=t[0].question;const o=document.querySelector(".top"),c=document.querySelector(".bottom");if("multiple"===t[0].type){const e=t[0].incorrect_answers;e.push(t[0].correct_answer),n(e),e.forEach(((t,e)=>{if(e<2){const e=document.createElement("div");e.classList.toggle("col"),e.innerHTML=t,o.appendChild(e)}else{const e=document.createElement("div");e.classList.toggle("col"),e.innerHTML=t,c.appendChild(e)}}))}else{const t=document.createElement("div");t.classList.toggle("col"),t.textContent="True";const e=document.createElement("div");e.classList.toggle("col"),e.textContent="False",o.appendChild(t),c.appendChild(e)}const a=document.querySelectorAll(".answers>.col");let i="";const l=t=>{for(let e of a)e.classList.remove("selected"),t.target.classList.add("selected"),i=t.target};o.addEventListener("mousedown",l),c.addEventListener("mousedown",l);let d=0;const r=document.querySelector(".submit"),u=()=>{const s=document.querySelector(".result");if(!i)return void alert("Please choose an answer.");if(i.innerHTML===t[0].correct_answer)s.classList.add("right"),s.textContent="Correct!",d++;else{s.classList.add("wrong"),s.textContent="Incorrect!",i.classList.remove("selected"),i.classList.add("incorrect");for(let e of a)e.innerHTML===t[0].correct_answer&&e.classList.add("selected")}r.removeEventListener("mousedown",u),o.removeEventListener("mousedown",l),c.removeEventListener("mousedown",l);const n=document.querySelector(".buttons");if(1===t.length){const e=document.createElement("button");e.classList.toggle("btn"),e.classList.toggle("col"),e.classList.toggle("col-sm-1"),e.classList.toggle("btn-primary"),e.classList.toggle("next"),e.classList.toggle("m-4"),e.textContent="Finish!",n.appendChild(e),e.addEventListener("mousedown",(()=>{endOfQuiz(t,d)}))}else{const s=document.createElement("button");s.classList.toggle("btn"),s.classList.toggle("col"),s.classList.toggle("col-sm-1"),s.classList.toggle("btn-primary"),s.classList.toggle("next"),s.classList.toggle("m-4"),s.textContent="Next!",n.appendChild(s),s.addEventListener("mousedown",(()=>{e(t,1,d)}))}};r.addEventListener("mousedown",u)})(o)},n=t=>{for(let e=t.length-1;e>0;e--){let s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}};let o=0,c="";const a=(t,e)=>{const n=document.querySelectorAll(".category");if(t&&(o=t),e)for(let t of n)t.dataset.id===e.dataset.id&&(c=t);let i=[];for(let t of n)t.addEventListener("mousedown",(t=>{4!==o||t.target.classList.contains("selected")?t.target.classList.contains("selected")?t.target.classList.contains("selected")&&(t.target.classList.toggle("selected"),o--):(t.target.classList.toggle("selected"),o++,c=t.target):(c.classList.remove("selected"),t.target.classList.toggle("selected"),c=t.target)}));document.querySelector(".category-next").addEventListener("mousedown",(t=>{for(let t of n)t.classList.contains("selected")&&i.push(t.dataset.id);const e=document.querySelector(".container");e.replaceChildren(),e.innerHTML='<div class="row">\n   <div class="col opening my-5">\n       <div class="row welcome">\n           <div class="col welcome-text">\n               Open Trivia Quiz\n           </div>\n       </div>\n       <div class="row underline">\n           <div class="col p-4 instructions">\n               Select your quiz settings.\n           </div>\n       </div>\n       <div class="row">\n           <div class="col-4">\n               <label for="question-amount">How many questions? Minimum: 1; Maximum: 50</label>\n           </div>\n           <div class="col-2">\n               <input type="number" name="questionAmount" id="question-amount" min="1" max="50" value="10" maxlength="2" oninput="this.value=this.value.slice(0,this.maxLength)">\n           </div>\n       </div>\n       <div class="row difficulty">\n           <div class="col-4">Difficulty of questions:</div>\n           <div class="col-2 selected" data-difficulty="any">Any</div>\n           <div class="col-2" data-difficulty="easy">Easy</div>\n           <div class="col-2" data-difficulty="medium">Medium</div>\n           <div class="col-2" data-difficulty="hard">Hard</div>\n       </div>\n       <div class="row type">\n           <div class="col-4">Types of questions:</div>\n           <div class="col-3 question-type selected" data-type="any">Any</div>\n           <div class="col-3 question-type" data-type="multiple">Multiple Choice</div>\n           <div class="col-2 question-type" data-type="boolean">True/False</div>\n       </div>\n       <div class="row buttons">\n           <button class="btn col col-sm-1 btn-primary settings-back m-4">Back!</button>\n           <button class="btn col col-sm-1 btn-primary start m-4">Start!</button>\n       </div>\n       <div class="row">\n           <div class="col attribution">\n               <a href="https://opentdb.com">Powered by the Open Trivia Database</a>\n           </div>\n       </div>\n   </div>\n</div> ',((t,e)=>{const n=document.querySelector("#question-amount"),o=document.querySelector(".difficulty");let c="";o.addEventListener("mousedown",(t=>{if(t.target.classList.contains("col-4")||t.target.classList.contains("selected"))return;const e=document.querySelectorAll(".difficulty>.col-2");for(let t of e)t.classList.remove("selected");t.target.classList.toggle("selected"),c=t.target.dataset.difficulty}));let i="";document.querySelector(".type").addEventListener("mousedown",(t=>{if(t.target.classList.contains("col-4")||t.target.classList.contains("selected"))return;const e=document.querySelectorAll(".question-type");for(let t of e)t.classList.remove("selected");t.target.classList.toggle("selected"),i=t.target.dataset.type})),document.querySelector(".settings-back").addEventListener("mousedown",(s=>{((t,e)=>{const s=document.querySelector(".container");s.replaceChildren(),s.innerHTML='<div class="row">\n    <div class="col opening my-5">\n        <div class="row welcome">\n            <div class="col welcome-text">\n                Open Trivia Quiz\n            </div>\n        </div>\n        <div class="row">\n            <div class="col p-4 instructions">\n                Choose up to four specific categories or don\'t choose any for a random mix of all. \n            </div>\n        </div>\n        <div class="row category-row">\n            <div class="col-2 category" data-id="9">General Knowledge</div>\n            <div class="col-2 category" data-id="10">Entertainment: Books</div>\n            <div class="col-2 category" data-id="11">Entertainment: Film</div>\n            <div class="col-2 category" data-id="12">Entertainment: Music</div>\n            <div class="col-2 category" data-id="13">Entertainment: Musicals & Theatres</div>\n            <div class="col-2 category" data-id="14">Entertainment: Television</div>\n        </div>\n        <div class="row category-row">\n            <div class="col-2 category" data-id="15">Entertainment: Video Games</div>\n            <div class="col-2 category" data-id="16">Entertainment: Board Games</div>\n            <div class="col-2 category" data-id="17">Science & Nature</div>\n            <div class="col-2 category" data-id="18">Science: Computers</div>\n            <div class="col-2 category" data-id="19">Science: Mathematics</div>\n            <div class="col-2 category" data-id="20">Mythology</div>\n        </div>\n        <div class="row category-row">\n            <div class="col-2 category" data-id="21">Sports</div>\n            <div class="col-2 category" data-id="22">Geography</div>\n            <div class="col-2 category" data-id="23">History</div>\n            <div class="col-2 category" data-id="24">Politics</div>\n            <div class="col-2 category" data-id="25">Art</div>\n            <div class="col-2 category" data-id="26">Celebrities</div>\n        </div>\n        <div class="row category-row">\n            <div class="col-2 category" data-id="27">Animals</div>\n            <div class="col-2 category" data-id="28">Vehicles</div>\n            <div class="col-2 category" data-id="29">Entertainment: Comics</div>\n            <div class="col-2 category" data-id="30">Science: Gadgets</div>\n            <div class="col-2 category" data-id="31">Entertainment: Japanese Anime & Manga</div>\n            <div class="col-2 category" data-id="32">Entertainment: Cartoon & Animations</div>\n        </div>\n        <div class="row justify-content-end">\n            <button class="btn col col-sm-2 btn-primary btn-lg category-next m-4">Next!</button>\n        </div>\n        <div class="row">\n            <div class="col attribution">\n                <a href="https://opentdb.com">Powered by the Open Trivia Database</a>\n            </div>\n        </div>\n    </div>\n</div>';const n=document.querySelectorAll(".category");let o=0;for(let e of n)t.forEach((t=>{t===e.dataset.id&&(e.classList.toggle("selected"),o++)}));a(o,e)})(t,e)})),document.querySelector(".start").addEventListener("mousedown",(e=>{n.value>50?alert("The quiz cannot be more than 50 questions!"):n.value<1?alert("The quiz cannot be 0 or less than 0!"):((t,e,n,o)=>{const c=Math.floor(e/t.length),a=e-c*t.length;let i="",l="";if("easy"===n?i="&difficulty=easy":"medium"===n?i="&difficulty=medium":"hard"===n&&(i="&difficulty=hard"),"multiple"===o?l="&type=multiple":"boolean"===o&&(l="&type=boolean"),t.length>0){const e=t.map((async(e,s)=>{let n="";if(s===t.length-1){const t=await fetch(`https://opentdb.com/api.php?amount=${c+a}&category=${e}${i}${l}`);n=await t.json()}else{const t=await fetch(`https://opentdb.com/api.php?amount=${c}&category=${e}${i}${l}`);n=await t.json()}if(1===n.response_code){const t=async()=>{const t=await fetch("https://opentdb.com/api_category.php"),s=await t.json();let n="";s.trivia_categories.forEach((t=>{t.id===Number(e)&&(n=t.name)})),alert(`The category ${n} does not have enough of the specified questions for this query.`)};t()}return n}));Promise.all(e).then((t=>s(t)))}else(async()=>{const t=await fetch(`https://opentdb.com/api.php?amount=${e}${i}${l}`),n=await t.json();s(n)})()})(t,n.value,c,i)}))})(i,c)}))};a()})();