(()=>{"use strict";var t={d:(e,a)=>{for(var i in a)t.o(a,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:a[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{J:()=>s});const e=t=>{console.log(t)};let a=0,i="";const s=(t,n)=>{const o=document.querySelectorAll(".category");if(t&&(a=t),n)for(let t of o)t.dataset.id===n.dataset.id&&(i=t);let c=[];for(let t of o)t.addEventListener("mousedown",(t=>{4!==a||t.target.classList.contains("selected")?t.target.classList.contains("selected")?t.target.classList.contains("selected")&&(t.target.classList.toggle("selected"),a--):(t.target.classList.toggle("selected"),a++,i=t.target):(i.classList.remove("selected"),t.target.classList.toggle("selected"),i=t.target)}));document.querySelector(".category-next").addEventListener("mousedown",(t=>{for(let t of o)t.classList.contains("selected")&&c.push(t.dataset.id);const a=document.querySelector(".container");a.replaceChildren(),a.innerHTML='<div class="row">\n   <div class="col opening my-5">\n       <div class="row welcome">\n           <div class="col welcome-text">\n               Open Trivia Quiz\n           </div>\n       </div>\n       <div class="row underline">\n           <div class="col p-4 instructions">\n               Select your quiz settings.\n           </div>\n       </div>\n       <div class="row">\n           <div class="col-4">\n               <label for="question-amount">How many questions? Minimum: 1; Maximum: 50</label>\n           </div>\n           <div class="col-2">\n               <input type="number" name="questionAmount" id="question-amount" min="1" max="50" value="10" maxlength="2" oninput="this.value=this.value.slice(0,this.maxLength)">\n           </div>\n       </div>\n       <div class="row difficulty">\n           <div class="col-4">Difficulty of questions:</div>\n           <div class="col-2 selected" data-difficulty="any">Any</div>\n           <div class="col-2" data-difficulty="easy">Easy</div>\n           <div class="col-2" data-difficulty="medium">Medium</div>\n           <div class="col-2" data-difficulty="hard">Hard</div>\n       </div>\n       <div class="row type">\n           <div class="col-4">Types of questions:</div>\n           <div class="col-3 question-type selected" data-type="any">Any</div>\n           <div class="col-3 question-type" data-type="multiple">Multiple Choice</div>\n           <div class="col-2 question-type" data-type="boolean">True/False</div>\n       </div>\n       <div class="row buttons">\n           <button class="btn col col-sm-1 btn-primary settings-back m-4">Back!</button>\n           <button class="btn col col-sm-1 btn-primary start m-4">Start!</button>\n       </div>\n       <div class="row">\n           <div class="col attribution">\n               <a href="https://opentdb.com">Powered by the Open Trivia Database</a>\n           </div>\n       </div>\n   </div>\n</div> ',((t,a)=>{const i=document.querySelector("#question-amount"),n=document.querySelector(".difficulty");let o="";n.addEventListener("mousedown",(t=>{if(t.target.classList.contains("col-4")||t.target.classList.contains("selected"))return;const e=document.querySelectorAll(".difficulty>.col-2");for(let t of e)t.classList.remove("selected");t.target.classList.toggle("selected"),o=t.target.dataset.difficulty}));let c="";document.querySelector(".type").addEventListener("mousedown",(t=>{if(t.target.classList.contains("col-4")||t.target.classList.contains("selected"))return;const e=document.querySelectorAll(".question-type");for(let t of e)t.classList.remove("selected");t.target.classList.toggle("selected"),c=t.target.dataset.type})),document.querySelector(".settings-back").addEventListener("mousedown",(e=>{((t,e)=>{const a=document.querySelector(".container");a.replaceChildren(),a.innerHTML='<div class="row">\n    <div class="col opening my-5">\n        <div class="row welcome">\n            <div class="col welcome-text">\n                Open Trivia Quiz\n            </div>\n        </div>\n        <div class="row">\n            <div class="col p-4 instructions">\n                Choose up to four specific categories or don\'t choose any for a random mix of all. \n            </div>\n        </div>\n        <div class="row category-row">\n            <div class="col-2 category" data-id="9">General Knowledge</div>\n            <div class="col-2 category" data-id="10">Entertainment: Books</div>\n            <div class="col-2 category" data-id="11">Entertainment: Film</div>\n            <div class="col-2 category" data-id="12">Entertainment: Music</div>\n            <div class="col-2 category" data-id="13">Entertainment: Musicals & Theatres</div>\n            <div class="col-2 category" data-id="14">Entertainment: Television</div>\n        </div>\n        <div class="row category-row">\n            <div class="col-2 category" data-id="15">Entertainment: Video Games</div>\n            <div class="col-2 category" data-id="16">Entertainment: Board Games</div>\n            <div class="col-2 category" data-id="17">Science & Nature</div>\n            <div class="col-2 category" data-id="18">Science: Computers</div>\n            <div class="col-2 category" data-id="19">Science: Mathematics</div>\n            <div class="col-2 category" data-id="20">Mythology</div>\n        </div>\n        <div class="row category-row">\n            <div class="col-2 category" data-id="21">Sports</div>\n            <div class="col-2 category" data-id="22">Geography</div>\n            <div class="col-2 category" data-id="23">History</div>\n            <div class="col-2 category" data-id="24">Politics</div>\n            <div class="col-2 category" data-id="25">Art</div>\n            <div class="col-2 category" data-id="26">Celebrities</div>\n        </div>\n        <div class="row category-row">\n            <div class="col-2 category" data-id="27">Animals</div>\n            <div class="col-2 category" data-id="28">Vehicles</div>\n            <div class="col-2 category" data-id="29">Entertainment: Comics</div>\n            <div class="col-2 category" data-id="30">Science: Gadgets</div>\n            <div class="col-2 category" data-id="31">Entertainment: Japanese Anime & Manga</div>\n            <div class="col-2 category" data-id="32">Entertainment: Cartoon & Animations</div>\n        </div>\n        <div class="row justify-content-end">\n            <button class="btn col col-sm-2 btn-primary btn-lg category-next m-4">Next!</button>\n        </div>\n        <div class="row">\n            <div class="col attribution">\n                <a href="https://opentdb.com">Powered by the Open Trivia Database</a>\n            </div>\n        </div>\n    </div>\n</div>';const i=document.querySelectorAll(".category");let n=0;for(let e of i)t.forEach((t=>{t===e.dataset.id&&(e.classList.toggle("selected"),n++)}));s(n,e)})(t,a)})),document.querySelector(".start").addEventListener("mousedown",(a=>{i.value>50?alert("The quiz cannot be more than 50 questions!"):i.value<1?alert("The quiz cannot be 0 or less than 0!"):((t,a,i,s)=>{const n=Math.floor(a/t.length),o=a%n;let c="",d="";if("easy"===i?c="&difficulty=easy":"medium"===i?c="&difficulty=medium":"hard"===i&&(c="&difficulty=hard"),"multiple"===s?d="&type=multiple":"boolean"===s&&(d="&type=boolean"),t.length>0){const a=t.map((async(e,a)=>{let i="";if(a===t.length-1){const t=await fetch(`https://opentdb.com/api.php?amount=${n+o}&category=${e}${c}${d}`);i=await t.json()}else{const t=await fetch(`https://opentdb.com/api.php?amount=${n}&category=${e}${c}${d}`);i=await t.json()}if(1!==i.response_code)return i;{const t=async()=>{const t=await fetch("https://opentdb.com/api_category.php"),a=await t.json();let i="";a.trivia_categories.forEach((t=>{t.id===Number(e)&&(i=t.name)})),alert(`The category ${i} does not have enough of the specified questions for this query.`)};t()}}));Promise.all(a).then((t=>e(t)))}else(async()=>{const t=await fetch(`https://opentdb.com/api.php?amount=${a}${c}${d}`),i=await t.json();console.log("no category coming through"),e(i)})()})(t,i.value,o,c)}))})(c,i)}))};s()})();